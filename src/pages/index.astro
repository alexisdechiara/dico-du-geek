---
import Header from "../components/Header.astro";
import Layout from "../layouts/Layout.astro";
import Footer from "../components/Footer.astro";
import Searchbar from "../components/Searchbar.svelte";
import ThemeSwitch from "../components/Settings/ThemeSwitch.astro";
import DarkModeSwitch from "../components/Settings/DarkModeSwitch.astro";
import Icon from "astro-icon";
import FontSwitch from "../components/Settings/FontSwitch.astro";
import TextSizeCounter from "../components/Settings/TextSizeCounter.astro";
import ContentHeader from "../components/Content/ContentHeader.astro";
import Presentation from "../components/presentation.astro";
import Tag from "../components/Tag.astro";
import { getPreviousSearch } from "../utils/previousSearch";

export const prerender = true;
const tags = getPreviousSearch() || [];
---

<Layout title="Accueil" isHomepage>
	<Header homepage />
	<main class="grow overflow-hidden">
		<div class="flex justify-center pt-24 pb-48 bg-primary dark:bg-background">
			<div class="flex flex-col gap-y-4 w-3/4 md:w-2/3 lg:w-1/2">
				<Searchbar size="lg" url={import.meta.env.API_URL} client:load />
				<div class="flex gap-2 overflow-x-auto scrollbar-hide touch-pan-x">
					{tags.map(tag => <Tag text={tag.title} slug={tag.slug} />)}
				</div>
			</div>
		</div>
		<Presentation
			page="definition"
			icon="search-alt-bold"
			header="Définition"
			paragraph={`Plongez dans l'univers des termes liés à la culture geek et à l'univers numérique en consultant notre dictionnaire en ligne, qui vous propose des définitions
				claires et concises sur tout ce qui concerne les jeux vidéo, les films, les séries, les technologies, les mèmes, les réseaux sociaux, internet et bien plus encore.`}
		/>
		<Presentation
			page="etymology"
			icon="hourglass-end-bold"
			header="Étymologie"
			paragraph={`La section d'histoire des mots vous permet d'explorer l'évolution des termes d’internet. Découvrez les origines, les significations antérieures et les changements de sens qui ont eu lieu au fil du temps. De la racine latine ou grecque d'un mot à son utilisation contemporaine, explorez l'histoire linguistique de chaque terme.`}
		/>
		<Presentation
			page="explanation"
			icon="edit-bold"
			header="Explication"
			paragraph={`Découvrez comment chaque mot peut être utilisé dans des contextes variés grâce à la section d'exemples concrets, pour une compréhension complète de leur signification et une immersion dans leur utilisation.`}
		/>
		<Presentation
			page="relation"
			icon="link-bold"
			header="Relation"
			paragraph={`Plongez-vous dans un voyage à travers les connexions qui façonnent la culture geek et laissez-vous surprendre par les associations inattendues qui vous attendent.`}
		/>
		<div class="relative h-[1464px] md:h-[2164px] lg:h-[1664px]">
			<span
				class="absolute text-relation-primary dark:text-relation-secondary top-32 md:top-64 lg:top-[500px] left-14 md:left-28 lg:left-20 font-marker text-6xl before:block before:absolute before:h-2/3 before:-inset-1 before:top-8 before:-rotate-[3deg] before:bg-relation-border before:-z-10"
				>Changez de thème</span
			>
			<Icon
				name="homepage/arrow"
				class="absolute hidden md:block md:w-[360px] lg:w-[480px] z-10 md:top-[350px] lg:top-[450px] md:right-4 lg:left-1/4 md:rotate-90 transform md:-scale-y-150 lg:scale-y-100 lg:-rotate-6 fill-relation-primary dark:fill-relation-secondary"
			/>
			<div
				class="absolute lg:-right-16 w-[1000px] -translate-x-1/2 md:translate-x-0 -translate-y-16 md:translate-y-0 md:left-auto left-1/2 md:w-[896px] top-0 md:top-60 lg:top-0">
				<div class="relative">
					<Icon name="homepage/blob-themes" class="fill-relation-background -z-10 rotate-180 transform scale-y-50 md:scale-y-100" />
					<div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 max-w-sm md:max-w-lg z-50">
						<ThemeSwitch page="relation" size="lg" />
						<DarkModeSwitch page="relation" size="lg" />
					</div>
				</div>
			</div>
			<div
				class="flex flex-col gap-6 absolute text-etymology-primary dark:text-etymology-secondary bottom-[600px] md:bottom-[800px] lg:bottom-[512px] left-8 md:left-auto md:right-20 font-marker text-4xl md:text-6xl rotate-3">
				<span
					class="relative before:block before:absolute before:h-2/3 before:top-4 before:-left-4 before:right-8 before:-skew-x-6 before:-rotate-1 before:bg-etymology-border before:-z-10"
					>Personnalisez la</span
				>
				<span class="relative before:block before:absolute before:h-full before:top-0 before:left-8 before:-right-2 before:rotate-1 before:bg-etymology-border before:-z-10"
					>police d'écriture</span
				>
			</div>
			<Icon
				name="homepage/arrow"
				class="absolute hidden md:block transform -scale-y-150 lg:scale-y-100 md:-rotate-90 md:w-[360px] lg:w-[480px] z-10 bottom-[550px] lg:bottom-[200px] md:left-16 lg:left-auto lg:right-1/4 fill-etymology-primary dark:fill-etymology-secondary -scale-x-100 lg:-rotate-12"
			/>
			<div class="absolute -bottom-32 md:bottom-0 md:-right-24 md:left-auto left-1/2 lg:right-auto lg:-left-24 w-[1000px] md:w-[896px] -translate-x-1/2 md:translate-x-0">
				<div class="relative">
					<Icon name="homepage/blob-fonts" class="fill-etymology-background -z-10 md:rotate-180 lg:rotate-0 transform scale-y-50 md:scale-y-100" />
					<div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 max-w-xs w-full md:max-w-none md:w-[512px] z-50">
						<TextSizeCounter page="etymology" size="lg" />
						<FontSwitch page="etymology" size="lg" />
					</div>
				</div>
			</div>
		</div>
		<div class="flex flex-col max-w-min lg:max-w-2xl items-center rounded-lg shadow-sm relative left-1/2 -translate-x-1/2 p-8 border border-border mb-32">
			<ContentHeader page="definition" title="Lorem Ipsum" pronounciation="lɔʁɛm‿ ipsɔm" tags={["Essayez", "par", "vous", "même"]} />
			<article class="prose text-primary text-paragraph">
				<p>
					Lorem ipsum dolor sit amet. At odio quia At voluptatem quia qui accusamus quaerat. Et repudiandae similique eum debitis autem ut nostrum temporibus cum dicta
					velit qui unde quia vel esse distinctio sit debitis maxime. Est omnis voluptate qui rerum quae eos reprehenderit minus aut nihil amet eum accusantium quia ab
					repudiandae officia. Ut recusandae beatae est excepturi quasi id pariatur voluptatem in fuga eligendi et vitae itaque! Non dolor asperiores qui aliquam fuga et
					sint sunt vel tempore nulla qui perspiciatis laboriosam sit doloribus omnis aut obcaecati ducimus? Non inventore veniam eos minima quia et debitis aliquam a
					internos omnis et repellat consectetur in dolor adipisci. Eos enim asperiores ea facilis aperiam a omnis laboriosam vel ipsum galisum et quia aliquam rem illum
					doloremque. Et deleniti assumenda ut voluptatibus enim hic exercitationem fugiat non soluta corporis aut eveniet iure. Ut laborum totam et quae quasi ut
					architecto enim et atque deleniti.
				</p><p>
					At numquam fugiat sed aliquid voluptatum qui praesentium nisi. Qui repudiandae autem est voluptatem quis ut odit atque. Eos itaque explicabo id consectetur
					dolor aut facere exercitationem et sint quis et quis assumenda in ratione tempore. Quo distinctio sapiente et debitis saepe qui delectus enim. Hic error dolores
					et explicabo ipsa et officia sunt est necessitatibus illo in molestiae illo aut doloribus fugiat qui velit nihil.
				</p>
			</article>
		</div>
	</main>
	<Footer />
</Layout>

<style>
	.scrollbar-hide::-webkit-scrollbar {
		display: none;
		-webkit-overflow-scrolling: touch;
	}

	/* For IE, Edge and Firefox */
	.scrollbar-hide {
		-ms-overflow-style: none; /* IE and Edge */
		scrollbar-width: none; /* Firefox */
	}
</style>
